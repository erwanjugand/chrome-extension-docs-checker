

  
    
<style>.dcc-reference{--color-hairline: #dadce0;--color-blue-lightest: rgba(232, 240, 254, 0.4);--color-blue-lighter: #d2e3fc;--color-blue-medium: #1967d2;--color-blue-darkest: #174ea6;--rgb-blue-darkest: 23, 78, 166;--color-yellow-lightest: rgba(254, 247, 224, 0.3);--color-yellow-lighter: #feefc3;--color-yellow-medium: #f29900;--color-yellow-darkest: #de7100;--rgb-yellow-darkest: 227, 117, 0;--color-red-lightest: rgba(252, 232, 230, 0.4);--color-red-lighter: rgba(252, 232, 230, 0.5);--color-red-medium: #c5221f;--color-red-darkest: #9f0e0e;--rgb-red-darkest: 165, 14, 14;--color-green-lightest: rgba(230, 244, 234, 0.4);--color-green-lighter: #ceead6;--color-green-medium: #188038;--color-green-darkest: #0d652d;--rgb-green-darkest: 13, 101, 45;--color-purple-lightest: rgba(243, 232, 253, 0.4);--color-purple-lighter: rgba(243, 232, 253, 0.5);--color-purple-medium: #8430ce;--color-purple-darkest: #681da8;--rgb-purple-darkest: 104, 29, 168;--color-pink-lightest: rgba(253, 231, 243, 0.4);--color-pink-lighter: rgba(253, 231, 243, 0.5);--color-pink-medium: #d01884;--color-pink-darkest: #9c166b;--rgb-pink-darkest: 156, 22, 107}.dcc-type--label{font-weight:500;font-size:.75rem;line-height:1.3333333333}.dcc-type--xsmall{font-size:.75rem;line-height:1.6666666667}h2.dcc-api-title{display:none}.dcc-code-sections ul{padding-left:0}.dcc-code-sections .dcc-code-sections{border:1px solid var(--color-hairline);padding:calc(1rem - 1px)}.dcc-code-sections .dcc-code-sections ul>li:first-child{border-top:0;padding-top:0}.dcc-code-sections .dcc-code-sections devsite-code{margin-left:calc(-1rem + 1px);margin-right:calc(-1rem + 1px)}.dcc-code-sections .dcc-type--small{font-size:.875em;line-height:2em}.dcc-code-sections__label{font-size:.875rem;line-height:2}.dcc-code-sections__type>:not(:last-child){margin-right:.5ch}.dcc-code-sections__enum{margin-bottom:1rem}.dcc-code-sections__icon::before{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuNzc2MzkgMS41NTI3OUM3LjkxNzE2IDEuNDgyNCA4LjA4Mjg0IDEuNDgyNCA4LjIyMzYxIDEuNTUyNzlMMTQuMjIzNiA0LjU1Mjc5QzE0LjM5MyA0LjYzNzQ4IDE0LjUgNC44MTA2MSAxNC41IDVWMTFDMTQuNSAxMS4xODk0IDE0LjM5MyAxMS4zNjI1IDE0LjIyMzYgMTEuNDQ3Mkw4LjIyMzYxIDE0LjQ0NzJDOC4wODI4NCAxNC41MTc2IDcuOTE3MTYgMTQuNTE3NiA3Ljc3NjM5IDE0LjQ0NzJMMS43NzYzOSAxMS40NDcyQzEuNjA3IDExLjM2MjUgMS41IDExLjE4OTQgMS41IDExVjVDMS41IDQuODEwNjEgMS42MDcgNC42Mzc0OCAxLjc3NjM5IDQuNTUyNzlMNy43NzYzOSAxLjU1Mjc5Wk0yLjUgNS44MDkwMlYxMC42OTFMNy41IDEzLjE5MVY4LjMwOTAyTDIuNSA1LjgwOTAyWk04LjUgOC4zMDkwMlYxMy4xOTFMMTMuNSAxMC42OTFWNS44MDkwMkw4LjUgOC4zMDkwMlpNMTIuODgyIDVMOCA3LjQ0MDk4TDMuMTE4MDMgNUw4IDIuNTU5MDJMMTIuODgyIDVaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=") center/contain no-repeat;content:"";display:inline-block;height:1.25em;margin-right:.5ch;vertical-align:middle;width:1.25em}.dcc-code-sections__icon.dcc-code-sections__icon--number::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNiAyLjVINFY0LjVINlYyLjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik02IDUuNUg0VjcuNUg2VjUuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTQgOC41SDZWMTAuNUg0VjguNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTkgMi41SDdWNC41SDlWMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBkPSJNNyA1LjVIOVY3LjVIN1Y1LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik05IDguNUg3VjEwLjVIOVY4LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik03IDExLjVIOVYxMy41SDdWMTEuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTEyIDIuNUgxMFY0LjVIMTJWMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBkPSJNMTAgNS41SDEyVjcuNUgxMFY1LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik0xMiA4LjVIMTBWMTAuNUgxMlY4LjVaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=")}.dcc-code-sections__icon.dcc-code-sections__icon--string::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNC43MTQyOSAxMkg1Ljg1NzE0TDcuMjg1NzEgOC4yODU3MVY0LjVDNy4yODU3MSA0LjIyMzg2IDcuMDYxODYgNCA2Ljc4NTcxIDRIMy41QzMuMjIzODYgNCAzIDQuMjIzODYgMyA0LjVWNy43ODU3MUMzIDguMDYxODYgMy4yMjM4NiA4LjI4NTcxIDMuNSA4LjI4NTcxSDYuMTQyODZMNC43MTQyOSAxMlpNMTAuNDI4NiAxMkgxMS41NzE0TDEzIDguMjg1NzFWNC41QzEzIDQuMjIzODYgMTIuNzc2MSA0IDEyLjUgNEg5LjIxNDI5QzguOTM4MTQgNCA4LjcxNDI5IDQuMjIzODYgOC43MTQyOSA0LjVWNy43ODU3MUM4LjcxNDI5IDguMDYxODYgOC45MzgxNCA4LjI4NTcxIDkuMjE0MjkgOC4yODU3MUgxMS44NTcxTDEwLjQyODYgMTJaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=")}.dcc-code-sections__icon.dcc-code-sections__icon--boolean::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIuMzUzNiA1Ljg1MzU1TDExLjY0NjQgNS4xNDY0NUw3IDkuNzkyODlMNC44NTM1NSA3LjY0NjQ1TDQuMTQ2NDUgOC4zNTM1NUw3IDExLjIwNzFMMTIuMzUzNiA1Ljg1MzU1WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIgM0MyIDIuNDQ3NzIgMi40NDc3MiAyIDMgMkgxM0MxMy41NTIzIDIgMTQgMi40NDc3MiAxNCAzVjEzQzE0IDEzLjU1MjMgMTMuNTUyMyAxNCAxMyAxNEgzQzIuNDQ3NzIgMTQgMiAxMy41NTIzIDIgMTNWM1pNMyAzSDEzVjEzSDNMMyAzWiIgZmlsbD0iIzVGNjM2OCIvPgo8L3N2Zz4K")}.dcc-code-sections__icon.dcc-code-sections__icon--function::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMuNSA0QzMuNSAyLjYxOTI5IDQuNjE5MjkgMS41IDYgMS41SDYuNVYyLjVINkM1LjE3MTU3IDIuNSA0LjUgMy4xNzE1NyA0LjUgNFY1Ljc2MzkzQzQuNSA2LjcxMDg2IDMuOTY0OTkgNy41NzY1MiAzLjExODAzIDhDMy45NjQ5OSA4LjQyMzQ4IDQuNSA5LjI4OTE0IDQuNSAxMC4yMzYxVjEyQzQuNSAxMi44Mjg0IDUuMTcxNTcgMTMuNSA2IDEzLjVINi41VjE0LjVINkM0LjYxOTI5IDE0LjUgMy41IDEzLjM4MDcgMy41IDEyVjEwLjIzNjFDMy41IDkuNjY3OTEgMy4xNzkgOS4xNDg1MiAyLjY3MDgyIDguODk0NDNMMS43NzYzOSA4LjQ0NzIxQzEuNjA3IDguMzYyNTIgMS41IDguMTg5MzkgMS41IDhDMS41IDcuODEwNjEgMS42MDcgNy42Mzc0OCAxLjc3NjM5IDcuNTUyNzlMMi42NzA4MiA3LjEwNTU3QzMuMTc5IDYuODUxNDggMy41IDYuMzMyMDkgMy41IDUuNzYzOTNWNFpNMTAgMi41SDkuNVYxLjVIMTBDMTEuMzgwNyAxLjUgMTIuNSAyLjYxOTI5IDEyLjUgNFY1Ljc2MzkzQzEyLjUgNi4zMzIwOSAxMi44MjEgNi44NTE0OCAxMy4zMjkyIDcuMTA1NTdMMTQuMjIzNiA3LjU1Mjc5QzE0LjM5MyA3LjYzNzQ4IDE0LjUgNy44MTA2MSAxNC41IDhDMTQuNSA4LjE4OTM5IDE0LjM5MyA4LjM2MjUyIDE0LjIyMzYgOC40NDcyMUwxMy4zMjkyIDguODk0NDNDMTIuODIxIDkuMTQ4NTIgMTIuNSA5LjY2NzkxIDEyLjUgMTAuMjM2MVYxMkMxMi41IDEzLjM4MDcgMTEuMzgwNyAxNC41IDEwIDE0LjVIOS41VjEzLjVIMTBDMTAuODI4NCAxMy41IDExLjUgMTIuODI4NCAxMS41IDEyVjEwLjIzNjFDMTEuNSA5LjI4OTE0IDEyLjAzNSA4LjQyMzQ4IDEyLjg4MiA4QzEyLjAzNSA3LjU3NjUyIDExLjUgNi43MTA4NiAxMS41IDUuNzYzOTNWNEMxMS41IDMuMTcxNTcgMTAuODI4NCAyLjUgMTAgMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8L3N2Zz4K")}.dcc-code-sections__icon.dcc-code-sections__icon--array::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyIDYuNUg0VjkuNUgxMlY2LjVaTTEyIDUuNUg0VjNIMTJWNS41Wk0xMyAzQzEzIDIuNDQ3NzIgMTIuNTUyMyAyIDEyIDJINEMzLjQ0NzcyIDIgMyAyLjQ0NzcyIDMgM1YxM0MzIDEzLjU1MjMgMy40NDc3MiAxNCA0IDE0SDEyQzEyLjU1MjMgMTQgMTMgMTMuNTUyMyAxMyAxM1YzWk0xMiAxMC41SDRWMTNIMTJWMTAuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPC9zdmc+Cg==")}.dcc-code-sections__icon.dcc-code-sections__icon--reference::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMyAySDhWM0gzTDMgMTNIMTNWOEgxNFYxM0MxNCAxMy41NTIzIDEzLjU1MjMgMTQgMTMgMTRIM0MyLjQ0NzcyIDE0IDIgMTMuNTUyMyAyIDEzVjNDMiAyLjQ0NzcyIDIuNDQ3NzIgMiAzIDJaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik05LjUgM0gxMi4yOTI5TDUuNjQ2NDUgOS42NDY0NUw2LjM1MzU1IDEwLjM1MzZMMTMgMy43MDcxMVY2LjVIMTRWMkg5LjVWM1oiIGZpbGw9IiM1RjYzNjgiLz4KPC9zdmc+Cg==")}.dcc-code-sections__optional{color:var(--color-pink-medium)}.dcc-code-sections__value{color:var(--color-code-number)}.dcc-code-sections__deprecated{color:var(--color-red-medium)}.dcc-code-sections__callback{display:block}p>.dcc-code-sections__callback{margin-top:.5em}.dcc-code-sections__overline{border-top:1px solid var(--color-hairline);margin:1em 0;padding-top:get-size(300)}.dcc-code-sections__mode{color:var(--color-code-comment);text-transform:uppercase}.dcc-code-sections li{border-top:1px solid var(--color-hairline);display:flex;flex-direction:column;padding-top:get-size(300);position:relative}.dcc-code-sections li>:first-child{font-weight:500;flex:0 0 auto;flex-shrink:1;min-width:9rem;padding-right:1rem}.dcc-code-sections li>:not(:first-child){flex-grow:1}.dcc-code-sections--summary{padding-left:0}.dcc-code-sections--summary>li:first-child{border-top:0;padding-top:0}@media(min-width: 992px){.dcc-code-sections--summary>li{flex-direction:row}}.dcc-code-sections--summary>li>:first-child{min-width:6.5rem}.dcc-tag-pill{--flow-space: 0.25rem;box-sizing:border-box;border-radius:.75rem;font-weight:500;font-size:.75rem;line-height:1.3333333333;margin:calc(var(--flow-space)/2);background-color:var(--color-blue-lightest);color:var(--color-blue-darkest);margin-bottom:.5rem;padding:.25rem .75rem;cursor:help}.dcc-tag-pill--blue{background-color:var(--color-blue-lightest);color:var(--color-blue-darkest)}.dcc-tag-pill--yellow{background-color:var(--color-yellow-lightest);color:var(--color-yellow-darkest)}.dcc-tag-pill--red{background-color:var(--color-red-lightest);color:var(--color-red-darkest)}.dcc-tag-pill--green{background-color:var(--color-green-lightest);color:var(--color-green-darkest)}.dcc-tag-pill--pink{background-color:var(--color-pink-lightest);color:var(--color-pink-darkest)}.dcc-tag-pill--purple{background-color:var(--color-purple-lightest);color:var(--color-purple-darkest)}a>.dcc-tag-pill{cursor:pointer}</style>




<p></p><aside class="note"><b>Important:</b>
This API works <strong>only on ChromeOS</strong>.
</aside><p></p>

<p></p><h2 class="dcc-api-title" data-text="Description" id="description" tabindex="-1">Description</h2>
<div class="dcc-reference"><p>Use this API to expose certificates to the platform which can use these certificates for TLS authentications.</p></div><p></p>

<p></p><h2 id="permissions" data-text="Permissions" tabindex="-1">Permissions</h2>
<div class="dcc-reference"><code translate="no" dir="ltr">certificateProvider</code><br></div><p></p>

<p></p><h2 id="availability" data-text="Availability" tabindex="-1">Availability</h2>
<div class="dcc-reference"><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 46+
      </span><span class="dcc-tag-pill--pink dcc-tag-pill">
        ChromeOS only
      </span></div>
    </div></div><p></p>

<p></p>

<h2 id="concepts_and_usage" data-text="Concepts and usage" tabindex="-1">Concepts and usage</h2>

<p>Typical usage of this API to expose client certificates to ChromeOS follows these steps:</p>

<ul>
<li>The Extension registers for the events <a href="#event-onCertificatesUpdateRequested"><code translate="no" dir="ltr">onCertificatesUpdateRequested</code></a> and <a href="#event-onSignatureRequested"><code translate="no" dir="ltr">onSignatureRequested</code></a>.</li>
<li>The Extension calls <a href="#method-setCertificates"><code translate="no" dir="ltr">setCertificates()</code></a> to provide the initial list of certificates after the initialization.</li>
<li>The Extension monitors the changes in the list of available certificates and calls <a href="#method-setCertificates"><code translate="no" dir="ltr">setCertificates()</code></a> to notify the browser about every such change.</li>
<li>During a TLS handshake, the browser receives a client certificate request. With an <a href="#event-onCertificatesUpdateRequested"><code translate="no" dir="ltr">onCertificatesUpdateRequested</code></a> event, the browser asks the Extension to report all certificates that it currently provides.</li>
<li>The Extension reports back with the currently available certificates, using the <a href="#method-setCertificates"><code translate="no" dir="ltr">setCertificates()</code></a> method.</li>
<li>The browser matches all available certificates with the client certificate request from the remote host. The matches are presented to the user in a selection dialog.</li>
<li>The user can select a certificate and thereby approve the authentication or abort the authentication.</li>
</ul>

<figure>
  <img src="/static/docs/extensions/reference/api/images/certificate_provider_selection_dialog.png" alt="Certificate selection dialog" class="screenshot" width="443">
  <figcaption>Certificate selection dialog.</figcaption>
</figure>

<ul>
<li>If the user aborts the authentication or no certificate matched the request, the TLS client authentication is aborted.</li>
<li>Otherwise, if the user approves the authentication with a certificate provided by this Extension, the browser requests the Extension to sign the data to continue the TLS handshake. The request is sent as a <a href="#event-onSignatureRequested"><code translate="no" dir="ltr">onSignatureRequested</code></a> event.</li>
<li>This event contains input data, declares which algorithm has to be used to generate the signature, and refers to one of the certificates that were reported by this Extension. The Extension must create a signature for the given data using the private key associated with the referenced certificate. Creating the signature might require prepending a DigestInfo and padding the result before the actual signing.</li>
<li>The Extension sends back the signature to the browser using the <a href="#method-reportSignature"><code translate="no" dir="ltr">reportSignature()</code></a> method. If the signature couldn't be calculated, the method has to be called without signature.</li>
<li>If the signature was provided, the browser completes the TLS handshake.</li>
</ul>

<p>The actual sequence of steps can be different. For example, the user will not be asked to select a certificate if the enterprise policy to automatically select a certificate is used (see <a href="https://cloud.google.com/docs/chrome-enterprise/policies/?policy=AutoSelectCertificateForUrls"><code translate="no" dir="ltr">AutoSelectCertificateForUrls</code></a> and <a href="https://support.google.com/chrome/a/answer/2657289#AutoSelectCertificateForUrls">Chrome policies for users</a>).</p>

<p>In the Extension, this can look similar to the following snippet:</p>
<div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="JavaScript"><code translate="no" dir="ltr"><span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">collectAvailableCertificates</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Return all certificates that this Extension can currently provide.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// For example:</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">certificateChain</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-ow">new</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nb">Uint8Array</span><span class="devsite-syntax-p">(...)],</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">supportedAlgorithms</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">[</span><span class="devsite-syntax-s1">'RSASSA_PKCS1_v1_5_SHA256'</span><span class="devsite-syntax-p">]</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}];</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// The Extension calls this function every time the currently available list of</span>
<span class="devsite-syntax-c1">// certificates changes, and also once after the Extension's initialization.</span>
<span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">onAvailableCertificatesChanged</span><span class="devsite-syntax-p">()</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">setCertificates</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">clientCertificates</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">collectAvailableCertificates</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">handleCertificatesUpdateRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Report the currently available certificates as a response to the request</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// event. This is important for supporting the case when the Extension is</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// unable to detect the changes proactively.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">setCertificates</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">certificatesRequestId</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificatesRequestId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">clientCertificates</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">collectAvailableCertificates</span><span class="devsite-syntax-p">()</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-c1">// Returns a private key handle for the given DER-encoded certificate.</span>
<span class="devsite-syntax-c1">// |certificate| is an ArrayBuffer.</span>
<span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">getPrivateKeyHandle</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">certificate</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{...}</span>

<span class="devsite-syntax-c1">// Digests and signs |input| with the given private key. |input| is an</span>
<span class="devsite-syntax-c1">// ArrayBuffer. |algorithm| is an Algorithm.</span>
<span class="devsite-syntax-c1">// Returns the signature as ArrayBuffer.</span>
<span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">signUnhashedData</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">privateKey</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">input</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">algorithm</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{...}</span>

<span class="devsite-syntax-kd">function</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">handleSignatureRequest</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-c1">// Look up the handle to the private key of |request.certificate|.</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">key</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">getPrivateKeyHandle</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificate</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-k">if</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-o">!</span><span class="devsite-syntax-nx">key</span><span class="devsite-syntax-p">)</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-p">{</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Handle if the key isn't available.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">console</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">error</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-s1">'Key for requested certificate no available.'</span><span class="devsite-syntax-p">);</span>

<span class="devsite-syntax-w">    </span><span class="devsite-syntax-c1">// Abort the request by reporting the error to the API.</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">reportSignature</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">signRequestId</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">signRequestId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">      </span><span class="devsite-syntax-nx">error</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-s1">'GENERAL_ERROR'</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-k">return</span><span class="devsite-syntax-p">;</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-w">  </span><span class="devsite-syntax-kd">const</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">signature</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-o">=</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">signUnhashedData</span><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">key</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">input</span><span class="devsite-syntax-p">,</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">algorithm</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">reportSignature</span><span class="devsite-syntax-p">({</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">signRequestId</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">signRequestId</span><span class="devsite-syntax-p">,</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">signature</span><span class="devsite-syntax-o">:</span><span class="devsite-syntax-w"> </span><span class="devsite-syntax-nx">signature</span>
<span class="devsite-syntax-w">  </span><span class="devsite-syntax-p">});</span>
<span class="devsite-syntax-p">}</span>

<span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">onCertificatesUpdateRequested</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">addListener</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">handleCertificatesUpdateRequest</span><span class="devsite-syntax-p">);</span>
<span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">onSignatureRequested</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">addListener</span><span class="devsite-syntax-p">(</span>
<span class="devsite-syntax-w">    </span><span class="devsite-syntax-nx">handleSignatureRequest</span><span class="devsite-syntax-p">);</span>
</code></pre></devsite-code>
<p></p><div class="dcc-reference"><h2 id="type" data-text="Types" tabindex="-1">Types</h2>
  <div><div>
    <div class="notranslate">
      <h3 id="type-Algorithm" data-text="Algorithm" tabindex="-1">Algorithm</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div><p>Types of supported cryptographic signature algorithms.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="enum" data-text="Enum" tabindex="-1">Enum</h4><div class="dcc-code-sections__overline dcc-code-sections__label">
      <p><span style="white-space: nowrap;"></span></p><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PKCS1_v1_5_MD5_SHA1"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PKCS#1 v1.5 signature algorithm with the MD5-SHA-1 hashing. The extension must not prepend a DigestInfo prefix but only add PKCS#1 padding. This algorithm is deprecated and will never be requested by Chrome as of version 109.</span></p><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PKCS1_v1_5_SHA1"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PKCS#1 v1.5 signature algorithm with the SHA-1 hash function.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PKCS1_v1_5_SHA256"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PKCS#1 v1.5 signature algorithm with the SHA-256 hashing function.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PKCS1_v1_5_SHA384"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PKCS#1 v1.5 signature algorithm with the SHA-384 hashing function.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PKCS1_v1_5_SHA512"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PKCS#1 v1.5 signature algorithm with the SHA-512 hashing function.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PSS_SHA256"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PSS signature algorithm with the SHA-256 hashing function, MGF1 mask generation function and the salt of the same size as the hash.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PSS_SHA384"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PSS signature algorithm with the SHA-384 hashing function, MGF1 mask generation function and the salt of the same size as the hash.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"RSASSA_PSS_SHA512"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the RSASSA PSS signature algorithm with the SHA-512 hashing function, MGF1 mask generation function and the salt of the same size as the hash.</span></p></span><p></p>
    </div>
  </div><div>
    <div class="notranslate">
      <h3 id="type-CertificateInfo" data-text="CertificateInfo" tabindex="-1">CertificateInfo</h3>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-CertificateInfo-certificate">certificate</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">ArrayBuffer</p></div>
    </div><p>Must be the DER encoding of a X.509 certificate. Currently, only certificates of RSA keys are supported.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-CertificateInfo-supportedHashes">supportedHashes</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--array"><a href="#type-Hash">Hash</a>[]</p></div>
    </div><p>Must be set to all hashes supported for this certificate. This extension will only be asked for signatures of digests calculated with one of these hash algorithms. This should be in order of decreasing hash preference.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-CertificatesUpdateRequest" data-text="CertificatesUpdateRequest" tabindex="-1">CertificatesUpdateRequest</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_1" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-CertificatesUpdateRequest-certificatesRequestId">certificatesRequestId</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number</p></div>
    </div><p>Request identifier to be passed to <a href="#method-setCertificates"><code translate="no" dir="ltr">setCertificates</code></a>.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-ClientCertificateInfo" data-text="ClientCertificateInfo" tabindex="-1">ClientCertificateInfo</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_2" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-ClientCertificateInfo-certificateChain">certificateChain</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--array">ArrayBuffer[]</p></div>
    </div><p>The array must contain the DER encoding of the X.509 client certificate as its first element.</p>
<p>This must include exactly one certificate.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-ClientCertificateInfo-supportedAlgorithms">supportedAlgorithms</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--array"><a href="#type-Algorithm">Algorithm</a>[]</p></div>
    </div><p>All algorithms supported for this certificate. The extension will only be asked for signatures using one of these algorithms.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-Error" data-text="Error" tabindex="-1">Error</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div><p>Types of errors that the extension can report.</p>
</div><div class="dcc-code-sections">
      <h4 class="dcc-type--label dcc-code-sections__mode" id="value" data-text="Value" tabindex="-1">Value</h4>
      <div class="dcc-code-sections__overline dcc-code-sections__label"><p class="dcc-code-sections__icon dcc-code-sections__icon--string"><span class="dcc-code-sections__value">"GENERAL_ERROR"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial"></span></p></div>
    </div><div>
    <div class="notranslate">
      <h3 id="type-Hash" data-text="Hash" tabindex="-1">Hash</h3>
    </div><p>Deprecated. Replaced by <a href="#type-Algorithm"><code translate="no" dir="ltr">Algorithm</code></a>.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="enum_1" data-text="Enum" tabindex="-1">Enum</h4><div class="dcc-code-sections__overline dcc-code-sections__label">
      <p><span style="white-space: nowrap;"></span></p><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"MD5_SHA1"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the MD5 and SHA1 hashing algorithms.</span></p><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"SHA1"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the SHA1 hashing algorithm.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"SHA256"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the SHA256 hashing algorithm.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"SHA384"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the SHA384 hashing algorithm.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"SHA512"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the SHA512 hashing algorithm.</span></p></span><p></p>
    </div>
  </div><div>
    <div class="notranslate">
      <h3 id="type-PinRequestErrorType" data-text="PinRequestErrorType" tabindex="-1">PinRequestErrorType</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div><p>The types of errors that can be presented to the user through the requestPin function.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="enum_2" data-text="Enum" tabindex="-1">Enum</h4><div class="dcc-code-sections__overline dcc-code-sections__label">
      <p><span style="white-space: nowrap;"></span></p><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"INVALID_PIN"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the PIN is invalid.</span></p><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"INVALID_PUK"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the PUK is invalid.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"MAX_ATTEMPTS_EXCEEDED"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the maximum attempt number has been exceeded.</span></p></span><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"UNKNOWN_ERROR"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies that the error cannot be represented by the above types.</span></p></span><p></p>
    </div>
  </div><div>
    <div class="notranslate">
      <h3 id="type-PinRequestType" data-text="PinRequestType" tabindex="-1">PinRequestType</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div><p>The type of code being requested by the extension with requestPin function.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="enum_3" data-text="Enum" tabindex="-1">Enum</h4><div class="dcc-code-sections__overline dcc-code-sections__label">
      <p><span style="white-space: nowrap;"></span></p><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"PIN"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the requested code is a PIN.</span></p><span style="white-space: nowrap;"><p class="dcc-code-sections__icon dcc-code-sections__icon--stringdcc-code-sections__enum"><span class="dcc-code-sections__value">"PUK"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial">Specifies the requested code is a PUK.</span></p></span><p></p>
    </div>
  </div><div>
    <div class="notranslate">
      <h3 id="type-PinResponseDetails" data-text="PinResponseDetails" tabindex="-1">PinResponseDetails</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_3" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-PinResponseDetails-userInput">userInput</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--string">string&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>The code provided by the user. Empty if user closed the dialog or some other error occurred.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-ReportSignatureDetails" data-text="ReportSignatureDetails" tabindex="-1">ReportSignatureDetails</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_4" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-ReportSignatureDetails-error">error</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--string"><span class="dcc-code-sections__value">"GENERAL_ERROR"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial"></span>&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>Error that occurred while generating the signature, if any.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-ReportSignatureDetails-signRequestId">signRequestId</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number</p></div>
    </div><p>Request identifier that was received via the <a href="#event-onSignatureRequested"><code translate="no" dir="ltr">onSignatureRequested</code></a> event.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-ReportSignatureDetails-signature">signature</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">ArrayBuffer&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>The signature, if successfully generated.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-RequestPinDetails" data-text="RequestPinDetails" tabindex="-1">RequestPinDetails</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_5" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-RequestPinDetails-attemptsLeft">attemptsLeft</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>The number of attempts left. This is provided so that any UI can present this information to the user. Chrome is not expected to enforce this, instead stopPinRequest should be called by the extension with errorType = MAX_ATTEMPTS_EXCEEDED when the number of pin requests is exceeded.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-RequestPinDetails-errorType">errorType</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-PinRequestErrorType">PinRequestErrorType</a>&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>The error template displayed to the user. This should be set if the previous request failed, to notify the user of the failure reason.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-RequestPinDetails-requestType">requestType</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-PinRequestType">PinRequestType</a>&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>The type of code requested. Default is PIN.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-RequestPinDetails-signRequestId">signRequestId</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number</p></div>
    </div><p>The ID given by Chrome in SignRequest.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-SetCertificatesDetails" data-text="SetCertificatesDetails" tabindex="-1">SetCertificatesDetails</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_6" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SetCertificatesDetails-certificatesRequestId">certificatesRequestId</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>When called in response to <a href="#event-onCertificatesUpdateRequested"><code translate="no" dir="ltr">onCertificatesUpdateRequested</code></a>, should contain the received <code translate="no" dir="ltr">certificatesRequestId</code> value. Otherwise, should be unset.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SetCertificatesDetails-clientCertificates">clientCertificates</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--array"><a href="#type-ClientCertificateInfo">ClientCertificateInfo</a>[]</p></div>
    </div><p>List of currently available client certificates.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SetCertificatesDetails-error">error</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--string"><span class="dcc-code-sections__value">"GENERAL_ERROR"</span> <br> <span class="dcc-type--xsmall" style="white-space: initial"></span>&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>Error that occurred while extracting the certificates, if any. This error will be surfaced to the user when appropriate.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-SignatureRequest" data-text="SignatureRequest" tabindex="-1">SignatureRequest</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_7" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignatureRequest-algorithm">algorithm</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-Algorithm">Algorithm</a></p></div>
    </div><p>Signature algorithm to be used.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignatureRequest-certificate">certificate</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">ArrayBuffer</p></div>
    </div><p>The DER encoding of a X.509 certificate. The extension must sign <code translate="no" dir="ltr">input</code> using the associated private key.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignatureRequest-input">input</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">ArrayBuffer</p></div>
    </div><p>Data to be signed. Note that the data is not hashed.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignatureRequest-signRequestId">signRequestId</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number</p></div>
    </div><p>Request identifier to be passed to <a href="#method-reportSignature"><code translate="no" dir="ltr">reportSignature</code></a>.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-SignRequest" data-text="SignRequest" tabindex="-1">SignRequest</h3>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_8" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignRequest-certificate">certificate</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">ArrayBuffer</p></div>
    </div><p>The DER encoding of a X.509 certificate. The extension must sign <code translate="no" dir="ltr">digest</code> using the associated private key.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignRequest-digest">digest</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">ArrayBuffer</p></div>
    </div><p>The digest that must be signed.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignRequest-hash">hash</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-Hash">Hash</a></p></div>
    </div><p>Refers to the hash algorithm that was used to create <code translate="no" dir="ltr">digest</code>.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-SignRequest-signRequestId">signRequestId</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number</p></div>
    </div><div class="pad-top-200">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div><p>The unique ID to be used by the extension should it need to call a method that requires it, e.g. requestPin.</p>
</li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="type-StopPinRequestDetails" data-text="StopPinRequestDetails" tabindex="-1">StopPinRequestDetails</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div></div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="properties_9" data-text="Properties" tabindex="-1">Properties</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-StopPinRequestDetails-errorType">errorType</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-PinRequestErrorType">PinRequestErrorType</a>&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>The error template. If present it is displayed to user. Intended to contain the reason for stopping the flow if it was caused by an error, e.g. MAX_ATTEMPTS_EXCEEDED.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="property-StopPinRequestDetails-signRequestId">signRequestId</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--number">number</p></div>
    </div><p>The ID given by Chrome in SignRequest.</p>
</li></ul>
    </div></div><h2 id="method" data-text="Methods" tabindex="-1">Methods</h2>
  <div><div>
    <div class="notranslate">
      <h3 id="method-reportSignature" data-text="reportSignature()" tabindex="-1">reportSignature()</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--green dcc-tag-pill" title="Can return its result via Promise in Manifest V3 or later.">
        Promise
      </span><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div><span class="dcc-code-sections__callback dcc-type--xsmall">
        <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">reportSignature</span><span class="devsite-syntax-p">(</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">details</span><span class="devsite-syntax-o">:</span>&nbsp;<a href="#type-ReportSignatureDetails"><span class="devsite-syntax-kt">ReportSignatureDetails</span></a><span class="devsite-syntax-p">,</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">callback?</span><span class="devsite-syntax-o">:</span>&nbsp;<span class="devsite-syntax-kt">function</span><span class="devsite-syntax-p">,<br>)</span></pre></devsite-code>
      </span><p>Should be called as a response to <a href="#event-onSignatureRequested"><code translate="no" dir="ltr">onSignatureRequested</code></a>.</p>
<p>The extension must eventually call this function for every <a href="#event-onSignatureRequested"><code translate="no" dir="ltr">onSignatureRequested</code></a> event; the API implementation will stop waiting for this call after some time and respond with a timeout error when this function is called.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="parameters" data-text="Parameters" tabindex="-1">Parameters</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="type-reportSignature-details">details</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-ReportSignatureDetails">ReportSignatureDetails</a></p></div>
    </div></li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="method-reportSignature-callback">callback</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--function">function&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>
          The <code translate="no" dir="ltr">callback</code> parameter looks like:
          <span class="dcc-code-sections__callback dcc-type--xsmall"></span></p><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-p">()&nbsp;=&gt;</span>&nbsp;<span class="devsite-syntax-ow">void</span></pre></devsite-code>
        <p></p></li></ul>
    </div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="returns" data-text="Returns" tabindex="-1">Returns</h4><ul class="stack">
          <li class="stack">
            <div><div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">Promise&lt;void&gt;</p></div>
            </div><div class="pad-top-200">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 96+
      </span></div>
    </div>
              <p>
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              </p>
            </li>
        </ul>
      </div><div>
    <div class="notranslate">
      <h3 id="method-requestPin" data-text="requestPin()" tabindex="-1">requestPin()</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--green dcc-tag-pill" title="Can return its result via Promise in Manifest V3 or later.">
        Promise
      </span><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div><span class="dcc-code-sections__callback dcc-type--xsmall">
        <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">requestPin</span><span class="devsite-syntax-p">(</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">details</span><span class="devsite-syntax-o">:</span>&nbsp;<a href="#type-RequestPinDetails"><span class="devsite-syntax-kt">RequestPinDetails</span></a><span class="devsite-syntax-p">,</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">callback?</span><span class="devsite-syntax-o">:</span>&nbsp;<span class="devsite-syntax-kt">function</span><span class="devsite-syntax-p">,<br>)</span></pre></devsite-code>
      </span><p>Requests the PIN from the user. Only one ongoing request at a time is allowed. The requests issued while another flow is ongoing are rejected. It's the extension's responsibility to try again later if another flow is in progress.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="parameters_1" data-text="Parameters" tabindex="-1">Parameters</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="type-requestPin-details">details</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-RequestPinDetails">RequestPinDetails</a></p></div>
    </div><p>Contains the details about the requested dialog.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="method-requestPin-callback">callback</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--function">function&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>
          The <code translate="no" dir="ltr">callback</code> parameter looks like:
          <span class="dcc-code-sections__callback dcc-type--xsmall"></span></p><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">details?</span><span class="devsite-syntax-o">:</span>&nbsp;<a href="#type-PinResponseDetails"><span class="devsite-syntax-kt">PinResponseDetails</span></a><span class="devsite-syntax-p">)&nbsp;=&gt;</span>&nbsp;<span class="devsite-syntax-ow">void</span></pre></devsite-code>
        <p></p><div class="dcc-code-sections"><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="type-requestPin-callback-details">details</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-PinResponseDetails">PinResponseDetails</a>&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div></li></ul>
    </div></li></ul>
    </div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="returns_1" data-text="Returns" tabindex="-1">Returns</h4><ul class="stack">
          <li class="stack">
            <div><div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">Promise&lt;<a href="#type-PinResponseDetails">PinResponseDetails</a>&nbsp;|&nbsp;undefined&gt;</p></div>
            </div><div class="pad-top-200">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 96+
      </span></div>
    </div>
              <p>
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              </p>
            </li>
        </ul>
      </div><div>
    <div class="notranslate">
      <h3 id="method-setCertificates" data-text="setCertificates()" tabindex="-1">setCertificates()</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--green dcc-tag-pill" title="Can return its result via Promise in Manifest V3 or later.">
        Promise
      </span><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div><span class="dcc-code-sections__callback dcc-type--xsmall">
        <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">setCertificates</span><span class="devsite-syntax-p">(</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">details</span><span class="devsite-syntax-o">:</span>&nbsp;<a href="#type-SetCertificatesDetails"><span class="devsite-syntax-kt">SetCertificatesDetails</span></a><span class="devsite-syntax-p">,</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">callback?</span><span class="devsite-syntax-o">:</span>&nbsp;<span class="devsite-syntax-kt">function</span><span class="devsite-syntax-p">,<br>)</span></pre></devsite-code>
      </span><p>Sets a list of certificates to use in the browser.</p>
<p>The extension should call this function after initialization and on every change in the set of currently available certificates. The extension should also call this function in response to <a href="#event-onCertificatesUpdateRequested"><code translate="no" dir="ltr">onCertificatesUpdateRequested</code></a> every time this event is received.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="parameters_2" data-text="Parameters" tabindex="-1">Parameters</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="type-setCertificates-details">details</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-SetCertificatesDetails">SetCertificatesDetails</a></p></div>
    </div><p>The certificates to set. Invalid certificates will be ignored.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="method-setCertificates-callback">callback</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--function">function&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>
          The <code translate="no" dir="ltr">callback</code> parameter looks like:
          <span class="dcc-code-sections__callback dcc-type--xsmall"></span></p><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-p">()&nbsp;=&gt;</span>&nbsp;<span class="devsite-syntax-ow">void</span></pre></devsite-code>
        <p></p></li></ul>
    </div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="returns_2" data-text="Returns" tabindex="-1">Returns</h4><ul class="stack">
          <li class="stack">
            <div><div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">Promise&lt;void&gt;</p></div>
            </div><div class="pad-top-200">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 96+
      </span></div>
    </div>
              <p>
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              </p>
            </li>
        </ul>
      </div><div>
    <div class="notranslate">
      <h3 id="method-stopPinRequest" data-text="stopPinRequest()" tabindex="-1">stopPinRequest()</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--green dcc-tag-pill" title="Can return its result via Promise in Manifest V3 or later.">
        Promise
      </span><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 57+
      </span></div>
    </div><span class="dcc-code-sections__callback dcc-type--xsmall">
        <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">stopPinRequest</span><span class="devsite-syntax-p">(</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">details</span><span class="devsite-syntax-o">:</span>&nbsp;<a href="#type-StopPinRequestDetails"><span class="devsite-syntax-kt">StopPinRequestDetails</span></a><span class="devsite-syntax-p">,</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">callback?</span><span class="devsite-syntax-o">:</span>&nbsp;<span class="devsite-syntax-kt">function</span><span class="devsite-syntax-p">,<br>)</span></pre></devsite-code>
      </span><p>Stops the pin request started by the <a href="#method-requestPin"><code translate="no" dir="ltr">requestPin</code></a> function.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="parameters_3" data-text="Parameters" tabindex="-1">Parameters</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="type-stopPinRequest-details">details</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-StopPinRequestDetails">StopPinRequestDetails</a></p></div>
    </div><p>Contains the details about the reason for stopping the request flow.</p>
</li><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="method-stopPinRequest-callback">callback</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--function">function&nbsp;<span class="dcc-code-sections__optional">optional</span></p></div>
    </div><p>
          The <code translate="no" dir="ltr">callback</code> parameter looks like:
          <span class="dcc-code-sections__callback dcc-type--xsmall"></span></p><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-p">()&nbsp;=&gt;</span>&nbsp;<span class="devsite-syntax-ow">void</span></pre></devsite-code>
        <p></p></li></ul>
    </div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="returns_3" data-text="Returns" tabindex="-1">Returns</h4><ul class="stack">
          <li class="stack">
            <div><div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object">Promise&lt;void&gt;</p></div>
            </div><div class="pad-top-200">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 96+
      </span></div>
    </div>
              <p>
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              </p>
            </li>
        </ul>
      </div></div><h2 id="event" data-text="Events" tabindex="-1">Events</h2>
  <div><div>
    <div class="notranslate">
      <h3 id="event-onCertificatesUpdateRequested" data-text="onCertificatesUpdateRequested" tabindex="-1">onCertificatesUpdateRequested</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div><span class="dcc-code-sections__callback dcc-type--xsmall">
        <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">onCertificatesUpdateRequested</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">addListener</span><span class="devsite-syntax-p">(</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">callback</span><span class="devsite-syntax-o">:</span>&nbsp;<span class="devsite-syntax-kt">function</span><span class="devsite-syntax-p">,<br>)</span></pre></devsite-code>
      </span><p>This event fires if the certificates set via <a href="#method-setCertificates"><code translate="no" dir="ltr">setCertificates</code></a> are insufficient or the browser requests updated information. The extension must call <a href="#method-setCertificates"><code translate="no" dir="ltr">setCertificates</code></a> with the updated list of certificates and the received <code translate="no" dir="ltr">certificatesRequestId</code>.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="parameters_5" data-text="Parameters" tabindex="-1">Parameters</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="method-onCertificatesUpdateRequested-callback">callback</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--function">function</p></div>
    </div><p>
          The <code translate="no" dir="ltr">callback</code> parameter looks like:
          <span class="dcc-code-sections__callback dcc-type--xsmall"></span></p><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-o">:</span>&nbsp;<a href="#type-CertificatesUpdateRequest"><span class="devsite-syntax-kt">CertificatesUpdateRequest</span></a><span class="devsite-syntax-p">)&nbsp;=&gt;</span>&nbsp;<span class="devsite-syntax-ow">void</span></pre></devsite-code>
        <p></p><div class="dcc-code-sections"><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="type-onCertificatesUpdateRequested-callback-request">request</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-CertificatesUpdateRequest">CertificatesUpdateRequest</a></p></div>
    </div></li></ul>
    </div></li></ul>
    </div><div>
    <div class="notranslate">
      <h3 id="event-onSignatureRequested" data-text="onSignatureRequested" tabindex="-1">onSignatureRequested</h3>
    </div><div class="">
      <div><span class="dcc-tag-pill--blue dcc-tag-pill" title="Available from this Chrome version and higher">Chrome 86+
      </span></div>
    </div><span class="dcc-code-sections__callback dcc-type--xsmall">
        <div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-nx">chrome</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">certificateProvider</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">onSignatureRequested</span><span class="devsite-syntax-p">.</span><span class="devsite-syntax-nx">addListener</span><span class="devsite-syntax-p">(</span><br>&nbsp;&nbsp;<span class="devsite-syntax-nx">callback</span><span class="devsite-syntax-o">:</span>&nbsp;<span class="devsite-syntax-kt">function</span><span class="devsite-syntax-p">,<br>)</span></pre></devsite-code>
      </span><p>This event fires every time the browser needs to sign a message using a certificate provided by this extension via <a href="#method-setCertificates"><code translate="no" dir="ltr">setCertificates</code></a>.</p>
<p>The extension must sign the input data from <code translate="no" dir="ltr">request</code> using the appropriate algorithm and private key and return it by calling <a href="#method-reportSignature"><code translate="no" dir="ltr">reportSignature</code></a> with the received <code translate="no" dir="ltr">signRequestId</code>.</p>
</div><div class="dcc-code-sections"><h4 class="dcc-type--label dcc-code-sections__mode" id="parameters_6" data-text="Parameters" tabindex="-1">Parameters</h4><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="method-onSignatureRequested-callback">callback</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--function">function</p></div>
    </div><p>
          The <code translate="no" dir="ltr">callback</code> parameter looks like:
          <span class="dcc-code-sections__callback dcc-type--xsmall"></span></p><div></div><devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded="" syntax="TypeScript"><span class="devsite-syntax-p">(</span><span class="devsite-syntax-nx">request</span><span class="devsite-syntax-o">:</span>&nbsp;<a href="#type-SignatureRequest"><span class="devsite-syntax-kt">SignatureRequest</span></a><span class="devsite-syntax-p">)&nbsp;=&gt;</span>&nbsp;<span class="devsite-syntax-ow">void</span></pre></devsite-code>
        <p></p><div class="dcc-code-sections"><ul class="stack"><li class="stack">
    <div>
      <div class="dcc-code-sections__label" id="type-onSignatureRequested-callback-request">request</div>
      <div class="dcc-type--xsmall"><p class="dcc-code-sections__icon dcc-code-sections__icon--object"><a href="#type-SignatureRequest">SignatureRequest</a></p></div>
    </div></li></ul>
    </div></li></ul>
    </div></div></div>
<p></p>
  

  
