

  
    
    
.dcc-reference{--color-hairline: #dadce0;--color-blue-lightest: rgba(232, 240, 254, 0.4);--color-blue-lighter: #d2e3fc;--color-blue-medium: #1967d2;--color-blue-darkest: #174ea6;--rgb-blue-darkest: 23, 78, 166;--color-yellow-lightest: rgba(254, 247, 224, 0.3);--color-yellow-lighter: #feefc3;--color-yellow-medium: #f29900;--color-yellow-darkest: #de7100;--rgb-yellow-darkest: 227, 117, 0;--color-red-lightest: rgba(252, 232, 230, 0.4);--color-red-lighter: rgba(252, 232, 230, 0.5);--color-red-medium: #c5221f;--color-red-darkest: #9f0e0e;--rgb-red-darkest: 165, 14, 14;--color-green-lightest: rgba(230, 244, 234, 0.4);--color-green-lighter: #ceead6;--color-green-medium: #188038;--color-green-darkest: #0d652d;--rgb-green-darkest: 13, 101, 45;--color-purple-lightest: rgba(243, 232, 253, 0.4);--color-purple-lighter: rgba(243, 232, 253, 0.5);--color-purple-medium: #8430ce;--color-purple-darkest: #681da8;--rgb-purple-darkest: 104, 29, 168;--color-pink-lightest: rgba(253, 231, 243, 0.4);--color-pink-lighter: rgba(253, 231, 243, 0.5);--color-pink-medium: #d01884;--color-pink-darkest: #9c166b;--rgb-pink-darkest: 156, 22, 107}.dcc-type--label{font-weight:500;font-size:.75rem;line-height:1.3333333333}.dcc-type--xsmall{font-size:.75rem;line-height:1.6666666667}h2.dcc-api-title{display:none}.dcc-code-sections ul{padding-left:0}.dcc-code-sections .dcc-code-sections{border:1px solid var(--color-hairline);padding:calc(1rem - 1px)}.dcc-code-sections .dcc-code-sections ul>li:first-child{border-top:0;padding-top:0}.dcc-code-sections .dcc-code-sections devsite-code{margin-left:calc(-1rem + 1px);margin-right:calc(-1rem + 1px)}.dcc-code-sections .dcc-type--small{font-size:.875em;line-height:2em}.dcc-code-sections__label{font-size:.875rem;line-height:2}.dcc-code-sections__type>:not(:last-child){margin-right:.5ch}.dcc-code-sections__enum{margin-bottom:1rem}.dcc-code-sections__icon::before{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuNzc2MzkgMS41NTI3OUM3LjkxNzE2IDEuNDgyNCA4LjA4Mjg0IDEuNDgyNCA4LjIyMzYxIDEuNTUyNzlMMTQuMjIzNiA0LjU1Mjc5QzE0LjM5MyA0LjYzNzQ4IDE0LjUgNC44MTA2MSAxNC41IDVWMTFDMTQuNSAxMS4xODk0IDE0LjM5MyAxMS4zNjI1IDE0LjIyMzYgMTEuNDQ3Mkw4LjIyMzYxIDE0LjQ0NzJDOC4wODI4NCAxNC41MTc2IDcuOTE3MTYgMTQuNTE3NiA3Ljc3NjM5IDE0LjQ0NzJMMS43NzYzOSAxMS40NDcyQzEuNjA3IDExLjM2MjUgMS41IDExLjE4OTQgMS41IDExVjVDMS41IDQuODEwNjEgMS42MDcgNC42Mzc0OCAxLjc3NjM5IDQuNTUyNzlMNy43NzYzOSAxLjU1Mjc5Wk0yLjUgNS44MDkwMlYxMC42OTFMNy41IDEzLjE5MVY4LjMwOTAyTDIuNSA1LjgwOTAyWk04LjUgOC4zMDkwMlYxMy4xOTFMMTMuNSAxMC42OTFWNS44MDkwMkw4LjUgOC4zMDkwMlpNMTIuODgyIDVMOCA3LjQ0MDk4TDMuMTE4MDMgNUw4IDIuNTU5MDJMMTIuODgyIDVaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=") center/contain no-repeat;content:"";display:inline-block;height:1.25em;margin-right:.5ch;vertical-align:middle;width:1.25em}.dcc-code-sections__icon.dcc-code-sections__icon--number::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNiAyLjVINFY0LjVINlYyLjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik02IDUuNUg0VjcuNUg2VjUuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTQgOC41SDZWMTAuNUg0VjguNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTkgMi41SDdWNC41SDlWMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBkPSJNNyA1LjVIOVY3LjVIN1Y1LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik05IDguNUg3VjEwLjVIOVY4LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik03IDExLjVIOVYxMy41SDdWMTEuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTEyIDIuNUgxMFY0LjVIMTJWMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBkPSJNMTAgNS41SDEyVjcuNUgxMFY1LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik0xMiA4LjVIMTBWMTAuNUgxMlY4LjVaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=")}.dcc-code-sections__icon.dcc-code-sections__icon--string::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNC43MTQyOSAxMkg1Ljg1NzE0TDcuMjg1NzEgOC4yODU3MVY0LjVDNy4yODU3MSA0LjIyMzg2IDcuMDYxODYgNCA2Ljc4NTcxIDRIMy41QzMuMjIzODYgNCAzIDQuMjIzODYgMyA0LjVWNy43ODU3MUMzIDguMDYxODYgMy4yMjM4NiA4LjI4NTcxIDMuNSA4LjI4NTcxSDYuMTQyODZMNC43MTQyOSAxMlpNMTAuNDI4NiAxMkgxMS41NzE0TDEzIDguMjg1NzFWNC41QzEzIDQuMjIzODYgMTIuNzc2MSA0IDEyLjUgNEg5LjIxNDI5QzguOTM4MTQgNCA4LjcxNDI5IDQuMjIzODYgOC43MTQyOSA0LjVWNy43ODU3MUM4LjcxNDI5IDguMDYxODYgOC45MzgxNCA4LjI4NTcxIDkuMjE0MjkgOC4yODU3MUgxMS44NTcxTDEwLjQyODYgMTJaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=")}.dcc-code-sections__icon.dcc-code-sections__icon--boolean::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIuMzUzNiA1Ljg1MzU1TDExLjY0NjQgNS4xNDY0NUw3IDkuNzkyODlMNC44NTM1NSA3LjY0NjQ1TDQuMTQ2NDUgOC4zNTM1NUw3IDExLjIwNzFMMTIuMzUzNiA1Ljg1MzU1WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIgM0MyIDIuNDQ3NzIgMi40NDc3MiAyIDMgMkgxM0MxMy41NTIzIDIgMTQgMi40NDc3MiAxNCAzVjEzQzE0IDEzLjU1MjMgMTMuNTUyMyAxNCAxMyAxNEgzQzIuNDQ3NzIgMTQgMiAxMy41NTIzIDIgMTNWM1pNMyAzSDEzVjEzSDNMMyAzWiIgZmlsbD0iIzVGNjM2OCIvPgo8L3N2Zz4K")}.dcc-code-sections__icon.dcc-code-sections__icon--function::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMuNSA0QzMuNSAyLjYxOTI5IDQuNjE5MjkgMS41IDYgMS41SDYuNVYyLjVINkM1LjE3MTU3IDIuNSA0LjUgMy4xNzE1NyA0LjUgNFY1Ljc2MzkzQzQuNSA2LjcxMDg2IDMuOTY0OTkgNy41NzY1MiAzLjExODAzIDhDMy45NjQ5OSA4LjQyMzQ4IDQuNSA5LjI4OTE0IDQuNSAxMC4yMzYxVjEyQzQuNSAxMi44Mjg0IDUuMTcxNTcgMTMuNSA2IDEzLjVINi41VjE0LjVINkM0LjYxOTI5IDE0LjUgMy41IDEzLjM4MDcgMy41IDEyVjEwLjIzNjFDMy41IDkuNjY3OTEgMy4xNzkgOS4xNDg1MiAyLjY3MDgyIDguODk0NDNMMS43NzYzOSA4LjQ0NzIxQzEuNjA3IDguMzYyNTIgMS41IDguMTg5MzkgMS41IDhDMS41IDcuODEwNjEgMS42MDcgNy42Mzc0OCAxLjc3NjM5IDcuNTUyNzlMMi42NzA4MiA3LjEwNTU3QzMuMTc5IDYuODUxNDggMy41IDYuMzMyMDkgMy41IDUuNzYzOTNWNFpNMTAgMi41SDkuNVYxLjVIMTBDMTEuMzgwNyAxLjUgMTIuNSAyLjYxOTI5IDEyLjUgNFY1Ljc2MzkzQzEyLjUgNi4zMzIwOSAxMi44MjEgNi44NTE0OCAxMy4zMjkyIDcuMTA1NTdMMTQuMjIzNiA3LjU1Mjc5QzE0LjM5MyA3LjYzNzQ4IDE0LjUgNy44MTA2MSAxNC41IDhDMTQuNSA4LjE4OTM5IDE0LjM5MyA4LjM2MjUyIDE0LjIyMzYgOC40NDcyMUwxMy4zMjkyIDguODk0NDNDMTIuODIxIDkuMTQ4NTIgMTIuNSA5LjY2NzkxIDEyLjUgMTAuMjM2MVYxMkMxMi41IDEzLjM4MDcgMTEuMzgwNyAxNC41IDEwIDE0LjVIOS41VjEzLjVIMTBDMTAuODI4NCAxMy41IDExLjUgMTIuODI4NCAxMS41IDEyVjEwLjIzNjFDMTEuNSA5LjI4OTE0IDEyLjAzNSA4LjQyMzQ4IDEyLjg4MiA4QzEyLjAzNSA3LjU3NjUyIDExLjUgNi43MTA4NiAxMS41IDUuNzYzOTNWNEMxMS41IDMuMTcxNTcgMTAuODI4NCAyLjUgMTAgMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8L3N2Zz4K")}.dcc-code-sections__icon.dcc-code-sections__icon--array::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyIDYuNUg0VjkuNUgxMlY2LjVaTTEyIDUuNUg0VjNIMTJWNS41Wk0xMyAzQzEzIDIuNDQ3NzIgMTIuNTUyMyAyIDEyIDJINEMzLjQ0NzcyIDIgMyAyLjQ0NzcyIDMgM1YxM0MzIDEzLjU1MjMgMy40NDc3MiAxNCA0IDE0SDEyQzEyLjU1MjMgMTQgMTMgMTMuNTUyMyAxMyAxM1YzWk0xMiAxMC41SDRWMTNIMTJWMTAuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPC9zdmc+Cg==")}.dcc-code-sections__icon.dcc-code-sections__icon--reference::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMyAySDhWM0gzTDMgMTNIMTNWOEgxNFYxM0MxNCAxMy41NTIzIDEzLjU1MjMgMTQgMTMgMTRIM0MyLjQ0NzcyIDE0IDIgMTMuNTUyMyAyIDEzVjNDMiAyLjQ0NzcyIDIuNDQ3NzIgMiAzIDJaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik05LjUgM0gxMi4yOTI5TDUuNjQ2NDUgOS42NDY0NUw2LjM1MzU1IDEwLjM1MzZMMTMgMy43MDcxMVY2LjVIMTRWMkg5LjVWM1oiIGZpbGw9IiM1RjYzNjgiLz4KPC9zdmc+Cg==")}.dcc-code-sections__optional{color:var(--color-pink-medium)}.dcc-code-sections__value{color:var(--color-code-number)}.dcc-code-sections__deprecated{color:var(--color-red-medium)}.dcc-code-sections__callback{display:block}p>.dcc-code-sections__callback{margin-top:.5em}.dcc-code-sections__overline{border-top:1px solid var(--color-hairline);margin:1em 0;padding-top:get-size(300)}.dcc-code-sections__mode{color:var(--color-code-comment);text-transform:uppercase}.dcc-code-sections li{border-top:1px solid var(--color-hairline);display:flex;flex-direction:column;padding-top:get-size(300);position:relative}.dcc-code-sections li>:first-child{font-weight:500;flex:0 0 auto;flex-shrink:1;min-width:9rem;padding-right:1rem}.dcc-code-sections li>:not(:first-child){flex-grow:1}.dcc-code-sections--summary{padding-left:0}.dcc-code-sections--summary>li:first-child{border-top:0;padding-top:0}@media(min-width: 992px){.dcc-code-sections--summary>li{flex-direction:row}}.dcc-code-sections--summary>li>:first-child{min-width:6.5rem}.dcc-tag-pill{--flow-space: 0.25rem;box-sizing:border-box;border-radius:.75rem;font-weight:500;font-size:.75rem;line-height:1.3333333333;margin:calc(var(--flow-space)/2);background-color:var(--color-blue-lightest);color:var(--color-blue-darkest);margin-bottom:.5rem;padding:.25rem .75rem;cursor:help}.dcc-tag-pill--blue{background-color:var(--color-blue-lightest);color:var(--color-blue-darkest)}.dcc-tag-pill--yellow{background-color:var(--color-yellow-lightest);color:var(--color-yellow-darkest)}.dcc-tag-pill--red{background-color:var(--color-red-lightest);color:var(--color-red-darkest)}.dcc-tag-pill--green{background-color:var(--color-green-lightest);color:var(--color-green-darkest)}.dcc-tag-pill--pink{background-color:var(--color-pink-lightest);color:var(--color-pink-darkest)}.dcc-tag-pill--purple{background-color:var(--color-purple-lightest);color:var(--color-purple-darkest)}a>.dcc-tag-pill{cursor:pointer}






Description
Note: this API is deprecated. Check out the declarativeNetRequest API instead. Use the chrome.declarativeWebRequest API to intercept, block, or modify requests in-flight. It is significantly faster than the chrome.webRequest API because you can register rules that are evaluated in the browser rather than the JavaScript engine, which reduces roundtrip latencies and allows higher efficiency.

Permissions
declarativeWebRequest

You must declare the "declarativeWebRequest" permission in the extension manifest to use this
API, along with host permissions.
{
  "name": "My extension",
  ...
  "permissions": [
    "declarativeWebRequest",
    "*://*/*"
  ],
  ...
}

Availability

      
        Beta channel
      
        ≤ MV2
    

Manifest

Note that certain types of non-sensitive actions do not require host permissions:


CancelRequest
IgnoreRules
RedirectToEmptyDocument
RedirectToTransparentImage


The SendMessageToExtension() action requires host permissions for any hosts whose network requests
you want to trigger a message on.

All other actions require host permissions to all URLs.

As an example, if "https://*.google.com/*" is the only host permission an extension has, then such an
extension may set up a rule to:


Cancel a request to https://www.google.com or https://anything.else.com.
Send a message when navigating to https://www.google.com but not to https://something.else.com.


The extension cannot set up a rule to redirect https://www.google.com to https://mail.google.com.

Rules

The Declarative Web Request API follows the concepts of the Declarative API. You can register
rules to the chrome.declarativeWebRequest.onRequest event object.

The Declarative Web Request API supports a single type of match criteria, the RequestMatcher. The
RequestMatcher matches network requests if and only if all listed criteria are met. The following
RequestMatcher would match a network request when the user enters https://www.example.com in the
ominibox:
var matcher = new chrome.declarativeWebRequest.RequestMatcher({
  url: { hostSuffix: 'example.com', schemes: ['http'] },
  resourceType: ['main_frame']
});

Requests to https://www.example.com would be rejected by the RequestMatcher due to the scheme.
Also all requests for an embedded iframe would be rejected due to the resourceType.

Note: All conditions and actions are created via a constructor as shown in the example above.

To cancel all requests to "example.com", you can define a rule as follows:
var rule = {
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: 'example.com' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.CancelRequest()
  ]
};

To cancel all requests to example.com and foobar.com, you can add a second condition,
as each condition is sufficient to trigger all specified actions:
var rule2 = {
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: 'example.com' } }),
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: 'foobar.com' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.CancelRequest()
  ]
};

Register rules as follows:
chrome.declarativeWebRequest.onRequest.addRules([rule2]);

Note: You should always register or unregister rules in bulk rather than individually because
each of these operations recreates internal data structures. This re-creation is computationally
expensive but facilitates a very fast URL matching algorithm for hundreds of thousands of URLs. The
Performance section of the Events API provides further performance tips.

Evaluation of conditions and actions

The Declarative Web Request API follows the Life cycle model for web requests of the Web
Request API. This means that conditions can only be tested at specific stages of a web request
and, likewise, actions can also only be executed at specific stages. The following tables list the
request stages that are compatible with conditions and actions.


  
    
      Request stages during which condition attributes can be processed.
    
    
      Condition attribute
      onBeforeRequest
      onBeforeSendHeaders
      onHeadersReceived
      onAuthRequired
    
    
      url
      ✓
      ✓
      ✓
      ✓
    
    
      resourceType
      ✓
      ✓
      ✓
      ✓
    
    
      contentType
      
      
      ✓
      
    
    
      excludeContentType
      
      
      ✓
      
    
    
      responseHeaders
      
      
      ✓
      
    
    
      excludeResponseHeaders
      
      
      ✓
      
    
    
      requestHeaders
      
      ✓
      
      
    
    
      excludeRequestHeaders
      
      ✓
      
      
    
    
      thirdPartyForCookies
      ✓
      ✓
      ✓
      ✓
    
    
      Request stages during which actions can be executed.
    
    
      Event
      onBeforeRequest
      onBeforeSendHeaders
      onHeadersReceived
      onAuthRequired
    
    
      AddRequestCookie
      
      ✓
      
      
    
    
      AddResponseCookie
      
      
      ✓
      
    
    
      AddResponseHeader
      
      
      ✓
      
    
    
      CancelRequest
      ✓
      ✓
      ✓
      ✓
    
    
      EditRequestCookie
      
      ✓
      
      
    
    
      EditResponseCookie
      
      
      ✓
      
    
    
      IgnoreRules
      ✓
      ✓
      ✓
      ✓
    
    
      RedirectByRegEx
      ✓
      
      ✓
      
    
    
      RedirectRequest
      ✓
      
      ✓
      
    
    
      RedirectToEmptyDocument
      ✓
      
      ✓
      
    
    
      RedirectToTransparentImage
      ✓
      
      ✓
      
    
    
      RemoveRequestCookie
      
      ✓
      
      
    
    
      RemoveRequestHeader
      
      ✓
      
      
    
    
      RemoveResponseCookie
      
      
      ✓
      
    
    
      RemoveResponseHeader
      
      
      ✓
      
    
    
      SendMessageToExtension
      ✓
      ✓
      ✓
      ✓
    
    
      SetRequestHeader
      
      ✓
      
      
    
  


Note: Applicable stages can be further constrained by using the "stages" attribute.

Note: Redirects initiated by a redirect action use the original request method for the redirect
with one exception: if the redirect is initiated at the `onHeadersReceived`` stage, then the redirect
will be issued using the `GET` method.

Example: It is possible to combine a
`new chrome.declarativeWebRequest.RequestMatcher({contentType: ["image/jpeg"]})` condition with a
`new chrome.declarativeWebRequest.CancelRequest()` action because both of them can be evaluated in
the `onHeadersReceived` stage. It is, however, impossible to combine the request matcher with a
`new chrome.declarativeWebRequest.SetRequestHeader()` because request headers cannot be set any more
by the time the content type has been terminated.

Use priorities to override rules

Rules can be associated with priorities as described in the Events API. This mechanism can be
used to express exceptions. The following example blocks all requests to images named evil.jpg
except on the server "myserver.com".
var rule1 = {
  priority: 100,
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
        url: { pathEquals: 'evil.jpg' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.CancelRequest()
  ]
};
var rule2 = {
  priority: 1000,
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: '.myserver.com' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.IgnoreRules({
      lowerPriorityThan: 1000 })
  ]
};
chrome.declarativeWebRequest.onRequest.addRules([rule1, rule2]);

It is important to recognize that the IgnoreRules action is not persisted across request
stages. All conditions of all rules are evaluated at each stage of a web request. If an
IgnoreRules action is executed, it applies only to other actions that are executed for the same
web request in the same stage.

Types
  
    
      AddRequestCookie
    Adds a cookie to the request or overrides a cookie, in case another cookie of the same name exists already. Note that it is preferred to use the Cookies API because this is computationally less expensive.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: AddRequestCookie) => {...}
        
    
      arg
      AddRequestCookie
    
    
          
            returnsAddRequestCookie
            
        
      
    
      cookie
      RequestCookie
    Cookie to be added to the request. No field may be undefined.

    
    
      AddResponseCookie
    Adds a cookie to the response or overrides a cookie, in case another cookie of the same name exists already. Note that it is preferred to use the Cookies API because this is computationally less expensive.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: AddResponseCookie) => {...}
        
    
      arg
      AddResponseCookie
    
    
          
            returnsAddResponseCookie
            
        
      
    
      cookie
      ResponseCookie
    Cookie to be added to the response. The name and value need to be specified.

    
    
      AddResponseHeader
    Adds the response header to the response of this web request. As multiple response headers may share the same name, you need to first remove and then add a new response header in order to replace one.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: AddResponseHeader) => {...}
        
    
      arg
      AddResponseHeader
    
    
          
            returnsAddResponseHeader
            
        
      
    
      name
      string
    HTTP response header name.

    
      value
      string
    HTTP response header value.

    
    
      CancelRequest
    Declarative event action that cancels a network request.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: CancelRequest) => {...}
        
    
      arg
      CancelRequest
    
    
          
            returnsCancelRequest
            
        
      
    
    
      EditRequestCookie
    Edits one or more cookies of request. Note that it is preferred to use the Cookies API because this is computationally less expensive.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: EditRequestCookie) => {...}
        
    
      arg
      EditRequestCookie
    
    
          
            returnsEditRequestCookie
            
        
      
    
      filter
      RequestCookie
    Filter for cookies that will be modified. All empty entries are ignored.

    
      modification
      RequestCookie
    Attributes that shall be overridden in cookies that machted the filter. Attributes that are set to an empty string are removed.

    
    
      EditResponseCookie
    Edits one or more cookies of response. Note that it is preferred to use the Cookies API because this is computationally less expensive.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: EditResponseCookie) => {...}
        
    
      arg
      EditResponseCookie
    
    
          
            returnsEditResponseCookie
            
        
      
    
      filter
      FilterResponseCookie
    Filter for cookies that will be modified. All empty entries are ignored.

    
      modification
      ResponseCookie
    Attributes that shall be overridden in cookies that machted the filter. Attributes that are set to an empty string are removed.

    
    
      FilterResponseCookie
    A filter of a cookie in HTTP Responses.
Properties
    
      ageLowerBound
      number optional
    Inclusive lower bound on the cookie lifetime (specified in seconds after current time). Only cookies whose expiration date-time is set to 'now + ageLowerBound' or later fulfill this criterion. Session cookies do not meet the criterion of this filter. The cookie lifetime is calculated from either 'max-age' or 'expires' cookie attributes. If both are specified, 'max-age' is used to calculate the cookie lifetime.

    
      ageUpperBound
      number optional
    Inclusive upper bound on the cookie lifetime (specified in seconds after current time). Only cookies whose expiration date-time is in the interval [now, now + ageUpperBound] fulfill this criterion. Session cookies and cookies whose expiration date-time is in the past do not meet the criterion of this filter. The cookie lifetime is calculated from either 'max-age' or 'expires' cookie attributes. If both are specified, 'max-age' is used to calculate the cookie lifetime.

    
      domain
      string optional
    Value of the Domain cookie attribute.

    
      expires
      string optional
    Value of the Expires cookie attribute.

    
      httpOnly
      string optional
    Existence of the HttpOnly cookie attribute.

    
      maxAge
      number optional
    Value of the Max-Age cookie attribute

    
      name
      string optional
    Name of a cookie.

    
      path
      string optional
    Value of the Path cookie attribute.

    
      secure
      string optional
    Existence of the Secure cookie attribute.

    
      sessionCookie
      boolean optional
    Filters session cookies. Session cookies have no lifetime specified in any of 'max-age' or 'expires' attributes.

    
      value
      string optional
    Value of a cookie, may be padded in double-quotes.

    
    
      HeaderFilter
    Filters request headers for various criteria. Multiple criteria are evaluated as a conjunction.
Properties
    
      nameContains
      string | string[] optional
    Matches if the header name contains all of the specified strings.

    
      nameEquals
      string optional
    Matches if the header name is equal to the specified string.

    
      namePrefix
      string optional
    Matches if the header name starts with the specified string.

    
      nameSuffix
      string optional
    Matches if the header name ends with the specified string.

    
      valueContains
      string | string[] optional
    Matches if the header value contains all of the specified strings.

    
      valueEquals
      string optional
    Matches if the header value is equal to the specified string.

    
      valuePrefix
      string optional
    Matches if the header value starts with the specified string.

    
      valueSuffix
      string optional
    Matches if the header value ends with the specified string.

    
    
      IgnoreRules
    Masks all rules that match the specified criteria.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: IgnoreRules) => {...}
        
    
      arg
      IgnoreRules
    
    
          
            returnsIgnoreRules
            
        
      
    
      hasTag
      string optional
    If set, rules with the specified tag are ignored. This ignoring is not persisted, it affects only rules and their actions of the same network request stage. Note that rules are executed in descending order of their priorities. This action affects rules of lower priority than the current rule. Rules with the same priority may or may not be ignored.

    
      lowerPriorityThan
      number optional
    If set, rules with a lower priority than the specified value are ignored. This boundary is not persisted, it affects only rules and their actions of the same network request stage.

    
    
      RedirectByRegEx
    Redirects a request by applying a regular expression on the URL. The regular expressions use the RE2 syntax.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RedirectByRegEx) => {...}
        
    
      arg
      RedirectByRegEx
    
    
          
            returnsRedirectByRegEx
            
        
      
    
      from
      string
    A match pattern that may contain capture groups. Capture groups are referenced in the Perl syntax ($1, $2, ...) instead of the RE2 syntax (\1, \2, ...) in order to be closer to JavaScript Regular Expressions.

    
      to
      string
    Destination pattern.

    
    
      RedirectRequest
    Declarative event action that redirects a network request.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RedirectRequest) => {...}
        
    
      arg
      RedirectRequest
    
    
          
            returnsRedirectRequest
            
        
      
    
      redirectUrl
      string
    Destination to where the request is redirected.

    
    
      RedirectToEmptyDocument
    Declarative event action that redirects a network request to an empty document.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RedirectToEmptyDocument) => {...}
        
    
      arg
      RedirectToEmptyDocument
    
    
          
            returnsRedirectToEmptyDocument
            
        
      
    
    
      RedirectToTransparentImage
    Declarative event action that redirects a network request to a transparent image.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RedirectToTransparentImage) => {...}
        
    
      arg
      RedirectToTransparentImage
    
    
          
            returnsRedirectToTransparentImage
            
        
      
    
    
      RemoveRequestCookie
    Removes one or more cookies of request. Note that it is preferred to use the Cookies API because this is computationally less expensive.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RemoveRequestCookie) => {...}
        
    
      arg
      RemoveRequestCookie
    
    
          
            returnsRemoveRequestCookie
            
        
      
    
      filter
      RequestCookie
    Filter for cookies that will be removed. All empty entries are ignored.

    
    
      RemoveRequestHeader
    Removes the request header of the specified name. Do not use SetRequestHeader and RemoveRequestHeader with the same header name on the same request. Each request header name occurs only once in each request.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RemoveRequestHeader) => {...}
        
    
      arg
      RemoveRequestHeader
    
    
          
            returnsRemoveRequestHeader
            
        
      
    
      name
      string
    HTTP request header name (case-insensitive).

    
    
      RemoveResponseCookie
    Removes one or more cookies of response. Note that it is preferred to use the Cookies API because this is computationally less expensive.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RemoveResponseCookie) => {...}
        
    
      arg
      RemoveResponseCookie
    
    
          
            returnsRemoveResponseCookie
            
        
      
    
      filter
      FilterResponseCookie
    Filter for cookies that will be removed. All empty entries are ignored.

    
    
      RemoveResponseHeader
    Removes all response headers of the specified names and values.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RemoveResponseHeader) => {...}
        
    
      arg
      RemoveResponseHeader
    
    
          
            returnsRemoveResponseHeader
            
        
      
    
      name
      string
    HTTP request header name (case-insensitive).

    
      value
      string optional
    HTTP request header value (case-insensitive).

    
    
      RequestCookie
    A filter or specification of a cookie in HTTP Requests.
Properties
    
      name
      string optional
    Name of a cookie.

    
      value
      string optional
    Value of a cookie, may be padded in double-quotes.

    
    
      RequestMatcher
    Matches network events by various criteria.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: RequestMatcher) => {...}
        
    
      arg
      RequestMatcher
    
    
          
            returnsRequestMatcher
            
        
      
    
      contentType
      string[] optional
    Matches if the MIME media type of a response (from the HTTP Content-Type header) is contained in the list.

    
      excludeContentType
      string[] optional
    Matches if the MIME media type of a response (from the HTTP Content-Type header) is not contained in the list.

    
      excludeRequestHeaders
      HeaderFilter[] optional
    Matches if none of the request headers is matched by any of the HeaderFilters.

    
      excludeResponseHeaders
      HeaderFilter[] optional
    Matches if none of the response headers is matched by any of the HeaderFilters.

    
      firstPartyForCookiesUrl
      UrlFilter optional
    
      
        Deprecated
    Ignored since release 82.Matches if the conditions of the UrlFilter are fulfilled for the 'first party' URL of the request. The 'first party' URL of a request, when present, can be different from the request's target URL, and describes what is considered 'first party' for the sake of third-party checks for cookies.

    
      requestHeaders
      HeaderFilter[] optional
    Matches if some of the request headers is matched by one of the HeaderFilters.

    
      resourceType
      ResourceType[] optional
    Matches if the request type of a request is contained in the list. Requests that cannot match any of the types will be filtered out.

    
      responseHeaders
      HeaderFilter[] optional
    Matches if some of the response headers is matched by one of the HeaderFilters.

    
      stages
      Stage[] optional
    Contains a list of strings describing stages. Allowed values are 'onBeforeRequest', 'onBeforeSendHeaders', 'onHeadersReceived', 'onAuthRequired'. If this attribute is present, then it limits the applicable stages to those listed. Note that the whole condition is only applicable in stages compatible with all attributes.

    
      thirdPartyForCookies
      boolean optional
    
      
        Deprecated
    Ignored since release 87.If set to true, matches requests that are subject to third-party cookie policies. If set to false, matches all other requests.

    
      url
      UrlFilter optional
    Matches if the conditions of the UrlFilter are fulfilled for the URL of the request.

    
    
      ResponseCookie
    A specification of a cookie in HTTP Responses.
Properties
    
      domain
      string optional
    Value of the Domain cookie attribute.

    
      expires
      string optional
    Value of the Expires cookie attribute.

    
      httpOnly
      string optional
    Existence of the HttpOnly cookie attribute.

    
      maxAge
      number optional
    Value of the Max-Age cookie attribute

    
      name
      string optional
    Name of a cookie.

    
      path
      string optional
    Value of the Path cookie attribute.

    
      secure
      string optional
    Existence of the Secure cookie attribute.

    
      value
      string optional
    Value of a cookie, may be padded in double-quotes.

    
    
      SendMessageToExtension
    Triggers the declarativeWebRequest.onMessage event.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: SendMessageToExtension) => {...}
        
    
      arg
      SendMessageToExtension
    
    
          
            returnsSendMessageToExtension
            
        
      
    
      message
      string
    The value that will be passed in the message attribute of the dictionary that is passed to the event handler.

    
    
      SetRequestHeader
    Sets the request header of the specified name to the specified value. If a header with the specified name did not exist before, a new one is created. Header name comparison is always case-insensitive. Each request header name occurs only once in each request.
Properties
    
      constructor
      void
    
          The constructor function looks like:
          (arg: SetRequestHeader) => {...}
        
    
      arg
      SetRequestHeader
    
    
          
            returnsSetRequestHeader
            
        
      
    
      name
      string
    HTTP request header name.

    
      value
      string
    HTTP request header value.

    
    
      Stage
    Enum
      "onBeforeRequest"  "onBeforeSendHeaders"  "onHeadersReceived"  "onAuthRequired"  
    
  Events
  
    
      onMessage
    
        chrome.declarativeWebRequest.onMessage.addListener(  callback: function,)
      Fired when a message is sent via declarativeWebRequest.SendMessageToExtension from an action of the declarative web request API.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (details: object) => void
        
    
      details
      object
    
    
      documentId
      string optional
    A UUID of the document that made the request.

    
      documentLifecycle
      extensionTypes.DocumentLifecycle
    The lifecycle the document is in.

    
      frameId
      number
    The value 0 indicates that the request happens in the main frame; a positive value indicates the ID of a subframe in which the request happens. If the document of a (sub-)frame is loaded (type is main_frame or sub_frame), frameId indicates the ID of this frame, not the ID of the outer frame. Frame IDs are unique within a tab.

    
      frameType
      extensionTypes.FrameType
    The type of frame the navigation occurred in.

    
      message
      string
    The message sent by the calling script.

    
      method
      string
    Standard HTTP method.

    
      parentDocumentId
      string optional
    A UUID of the parent document owning this frame. This is not set if there is no parent.

    
      parentFrameId
      number
    ID of frame that wraps the frame which sent the request. Set to -1 if no parent frame exists.

    
      requestId
      string
    The ID of the request. Request IDs are unique within a browser session. As a result, they could be used to relate different events of the same request.

    
      stage
      Stage
    The stage of the network request during which the event was triggered.

    
      tabId
      number
    The ID of the tab in which the request takes place. Set to -1 if the request isn't related to a tab.

    
      timeStamp
      number
    The time when this signal is triggered, in milliseconds since the epoch.

    
      type
      webRequest.ResourceType
    How the requested resource will be used.

    
      url
      string
    
    
    
    
    
      onRequest
    
        Provides the Declarative Event API consisting of addRules, removeRules, and getRules.
      Conditions
      RequestMatcher
    
  Actions
      AddRequestCookieAddResponseCookieAddResponseHeaderCancelRequestEditRequestCookieEditResponseCookieRedirectRequestRedirectToTransparentImageRedirectToEmptyDocumentRedirectByRegExRemoveRequestCookieRemoveResponseCookieRemoveRequestHeaderRemoveResponseHeaderSetRequestHeaderSendMessageToExtensionIgnoreRules
    
  


  

  
